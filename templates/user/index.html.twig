{% extends 'base.html.twig' %}

{% block title %}Hello {{ controller_name }}!{% endblock %}

{% block body %}
    <table id="example" class="table table-striped table-bordered" style="width:100%">
        <thead>
            <tr>
                <th width = "5%">ID</th>
                <th>{% trans %}user.username{% endtrans %}</th>
                <th>{% trans %}user.name{% endtrans %}</th>
                <th>{% trans %}user.surname{% endtrans %}</th>
                <th>{% trans %}user.surname{% endtrans %}</th>
                <th>{% trans %}user.role{% endtrans %}</th>
                <th>{% trans %}user.email{% endtrans %}</th>
                <th width = "6%">{% trans %}user.isActive{% endtrans %}</th>
                <th width = "6%" data-orderable="false">{% trans %}user.edit{% endtrans %}</th>
                <th width = "6%" data-orderable="false">{% trans %}user.delete{% endtrans %}</th>
            </tr>
        </thead>
        {% for key  in users %}
        <tr>
            <td><a href = "/admin/user/{{ key.id }}">{{ key.id }}</a></td>
            <td>{{ key.username }}</td>
            <td>{{ key.name }}</td>
            <td>{{ key.surname }}</td>
            <td>{{ key.lastname }}</td>
            <td>{% if (key.roles[0] == 'ROLE_ADMIN') %} {% trans %}user.admin{% endtrans %} {% else %} {% trans %}user.user{% endtrans %} {% endif %}</td>
            <td>{{ key.Email }}</td>
            <td>{% if (key.isActive == 1) %}{% trans %}user.activeTrue{% endtrans %} {% else %} {% trans %}user.activeFalse{% endtrans %} {% endif %}</td>
            <td>{% trans %}user.edit{% endtrans %}</td>
            <td>{% trans %}user.delete{% endtrans %}</td>
        </tr>
        {% endfor %}
        <tfoot>
        <tr>
            <th width = "5%">ID</th>
            <th>{% trans %}user.username{% endtrans %}</th>
            <th>{% trans %}user.name{% endtrans %}</th>
            <th>{% trans %}user.surname{% endtrans %}</th>
            <th>{% trans %}user.surname{% endtrans %}</th>
            <th>{% trans %}user.role{% endtrans %}</th>
            <th>{% trans %}user.email{% endtrans %}</th>
            <th width = "6%">{% trans %}user.isActive{% endtrans %}</th>
            <th width = "6%" data-orderable="false">{% trans %}user.edit{% endtrans %}</th>
            <th width = "6%" data-orderable="false">{% trans %}user.delete{% endtrans %}</th>
        </tr>
        </tfoot>
    </table>
    <script>
        $(document).ready(function() {
            $('#example').DataTable(
                {
                    "lengthMenu": [[10, 25, 50], [10, 25, 50]]
                }
            );
        } );
    </script>
    
{% endblock %}
